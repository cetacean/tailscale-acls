{ // This file is managed in https://github.com/cetacean/tailscale-acls, do not edit in the admin panel
  "groups": {
    "group:admins": [ "xe@github", "victorvalenca@github" ],
    "group:low-trust": [ "twi@github" ],
    "group:within": [ "xe@github", "victorvalenca@github", "heartmender@github" ],
  },
  "hosts": {
    "vm-subnet": "10.77.0.0/17",
  },
  "tagOwners": {
    "tag:nixos": [ "group:admins" ],
    "tag:hypervisor": [ "group:admins" ],
    "tag:hetzner": [ "group:admins" ],
    "tag:ci": [ "group:admins" ],
    "tag:alpine": [ "group:admins" ],
    "tag:vm": [ "group:admins" ],    
    "tag:alrest": [ "group:admins" ],
    "tag:sensitive": [ "group:admins" ],
    "tag:games": [ "group:admins" ],
    "tag:xe": [ "xe@github" ],
  },
  // Access control lists.
  "acls": [
    // { "Action": "accept", "Users": ["*"], "Ports": ["vm-subnet:*"] },
    { "Action": "accept", "Users": ["*"], "Ports": ["autogroup:self:*"] },
    { "Action": "accept", "Users": ["group:admins"], "Ports": ["*:*"] },
    { "Action": "accept", "Users": ["*"], "Ports": ["*:*"] },
  ],
  "ssh": [
    {
      "action": "accept",
      "src": ["tag:alrest"],
      "dst": ["tag:alrest"],
      "users": ["root", "autogroup:nonroot"],
    },
    {
      "action": "accept",
      "src": ["group:admins"],
      "dst": ["tag:games"],
      "users": ["autogroup:nonroot", "root"]
    },
    {
      "action": "accept",
      "src": ["xe@github", "tag:alrest"],
      "dst": ["tag:xe"],
      "users": ["autogroup:nonroot", "root"]
    },
    {
      "action": "accept",
      "src": ["group:admins", "tag:alrest"],
      "dst": ["tag:vm"],
      "users": ["autogroup:nonroot", "root"]
    },
    {
      "action": "accept",
      "src": ["group:admins"],
      "dst": ["tag:alrest"],
      "users": ["autogroup:nonroot"]
    },
    {
      "action": "check",
      "src": ["group:admins"],
      "dst": ["tag:alrest"],
      "users": ["root"],
    },
  ]
}
